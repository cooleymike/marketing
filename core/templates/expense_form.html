{% extends 'expenses.html' %}
{% load static %}
{% block content %}

<div class="container mx-auto mt-5 max-w-md">
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-blue-500 text-white text-center py-4">
            <h4 class="text-lg font-semibold">Expense Entry</h4>
        </div>
        <div class="p-6">
            {% for field in form %}
                <div class="mb-4">
                    {{ field.errors }}
                </div>
            {% endfor %}
            <form action="" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Description</label>
                    {{ form.description}}
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Initial Amount</label>
                    {{ form.initial_amount }}
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Upload Receipt</label>
                    {{ form.upload }}
                </div>
                {{ form.employee }}
                <div>
                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full focus:outline-none focus:shadow-outline">
                        Submit
                    </button>
                </div>
            </form>
        </div>
    </div>
    <div>
<!--        insert delete modal maybe? as someone deletes an expense -->
    </div>

    <div class="mt-6">
        <h3 class="text-center text-lg font-bold">Total Expense:
            <span class="bg-gray-800 text-white px-3 py-1 rounded">{{ total_expense }}</span>
        </h3>
        <h3 class="text-center text-lg font-bold">Remaining Budget:
            <span class="bg-gray-800 text-white px-3 py-1 rounded">{{ remaining_budget }}</span>
        </h3>
    </div>

    <div class="mt-6">
        <h4 class="text-lg font-semibold">Active Entries</h4>
        <ul class="list-none space-y-2">
            {% for active_entry in active_entry %}
            <li class="bg-gray-100 px-4 py-2 rounded flex justify-between items-center">
                <span>{{ active_entry.description }}</span>
                <span class="bg-gray-800 text-white px-3 py-1 rounded">{{ active_entry.initial_amount }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>

{% endblock %}
